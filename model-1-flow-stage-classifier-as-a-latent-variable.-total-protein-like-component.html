<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.1 MODEL 1: Flow stage classifier as a latent variable. Total protein-like component  | PLS-SEM FEF model exploration and iterations</title>
  <meta name="description" content="5.1 MODEL 1: Flow stage classifier as a latent variable. Total protein-like component  | PLS-SEM FEF model exploration and iterations" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="5.1 MODEL 1: Flow stage classifier as a latent variable. Total protein-like component  | PLS-SEM FEF model exploration and iterations" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.1 MODEL 1: Flow stage classifier as a latent variable. Total protein-like component  | PLS-SEM FEF model exploration and iterations" />
  
  
  

<meta name="author" content="Lauren Kremer" />


<meta name="date" content="2024-10-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="testing-iterations-of-the-pls-sem-fef-model.html"/>
<link rel="next" href="model-2-include-a-flow-stage-classifier-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="assets/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="assets/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="assets/viz-1.8.2/viz.js"></script>
<link href="assets/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="assets/grViz-binding-1.0.11/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>1.1</b> About</a></li>
<li class="chapter" data-level="1.2" data-path="usage.html"><a href="usage.html"><i class="fa fa-check"></i><b>1.2</b> Usage</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="addition-of-precipitation-and-runoff-data.html"><a href="addition-of-precipitation-and-runoff-data.html"><i class="fa fa-check"></i><b>2</b> Addition of precipitation and runoff data</a></li>
<li class="chapter" data-level="3" data-path="correlations-plots.html"><a href="correlations-plots.html"><i class="fa fa-check"></i><b>3</b> Correlations plots:</a>
<ul>
<li class="chapter" data-level="3.1" data-path="parafac-results-summary-figures.html"><a href="parafac-results-summary-figures.html"><i class="fa fa-check"></i><b>3.1</b> PARAFAC results summary figures:</a></li>
<li class="chapter" data-level="3.2" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>3.2</b> Structure:</a></li>
<li class="chapter" data-level="3.3" data-path="relative-loadings.html"><a href="relative-loadings.html"><i class="fa fa-check"></i><b>3.3</b> 1. Relative loadings</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="relative-loadings.html"><a href="relative-loadings.html#box-plots---relative-loadings"><i class="fa fa-check"></i><b>3.3.1</b> Box plots - Relative loadings</a></li>
<li class="chapter" data-level="3.3.2" data-path="relative-loadings.html"><a href="relative-loadings.html#distance-correlation-matricies"><i class="fa fa-check"></i><b>3.3.2</b> Distance Correlation matricies</a></li>
<li class="chapter" data-level="3.3.3" data-path="relative-loadings.html"><a href="relative-loadings.html#pearson-correlation-matrices-scaled-data---relative-loadings"><i class="fa fa-check"></i><b>3.3.3</b> Pearson correlation matrices (scaled data) - Relative loadings</a></li>
<li class="chapter" data-level="3.3.4" data-path="relative-loadings.html"><a href="relative-loadings.html#hydrograph---fool-creek-fractions-with-hydrograph"><i class="fa fa-check"></i><b>3.3.4</b> Hydrograph - Fool Creek fractions with hydrograph</a></li>
<li class="chapter" data-level="3.3.5" data-path="relative-loadings.html"><a href="relative-loadings.html#data-preparation-for-multivariate-statistical-analysis---dimension-reduction-techniques"><i class="fa fa-check"></i><b>3.3.5</b> Data preparation for multivariate statistical analysis - dimension reduction techniques</a></li>
<li class="chapter" data-level="3.3.6" data-path="relative-loadings.html"><a href="relative-loadings.html#rda-redundancy-analysis"><i class="fa fa-check"></i><b>3.3.6</b> RDA (Redundancy Analysis)</a></li>
<li class="chapter" data-level="3.3.7" data-path="relative-loadings.html"><a href="relative-loadings.html#pca---all-data"><i class="fa fa-check"></i><b>3.3.7</b> PCA - All data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="normalized-doc.html"><a href="normalized-doc.html"><i class="fa fa-check"></i><b>3.4</b> 2. Normalized DOC</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="normalized-doc.html"><a href="normalized-doc.html#box-plots---doc-normalized-loadings"><i class="fa fa-check"></i><b>3.4.1</b> Box plots - DOC normalized loadings</a></li>
<li class="chapter" data-level="3.4.2" data-path="normalized-doc.html"><a href="normalized-doc.html#correlation-matrices---normalized-loadings"><i class="fa fa-check"></i><b>3.4.2</b> Correlation matrices - Normalized loadings</a></li>
<li class="chapter" data-level="3.4.3" data-path="normalized-doc.html"><a href="normalized-doc.html#hydrograph---fluorescence-intensities-in-fool-creek-with-2022-hydrograph"><i class="fa fa-check"></i><b>3.4.3</b> Hydrograph - Fluorescence intensities in Fool creek with 2022 hydrograph</a></li>
<li class="chapter" data-level="3.4.4" data-path="normalized-doc.html"><a href="normalized-doc.html#pca"><i class="fa fa-check"></i><b>3.4.4</b> PCA</a></li>
<li class="chapter" data-level="3.4.5" data-path="normalized-doc.html"><a href="normalized-doc.html#rda-redundancy-analysis-1"><i class="fa fa-check"></i><b>3.4.5</b> RDA (Redundancy Analysis)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="partial-least-squares-structural-equation-modeling-pls-sem.html"><a href="partial-least-squares-structural-equation-modeling-pls-sem.html"><i class="fa fa-check"></i><b>4</b> Partial least squares â€“ Structural Equation Modeling (PLS-SEM)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="building-the-path-model.html"><a href="building-the-path-model.html"><i class="fa fa-check"></i><b>4.1</b> Building the path model</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="building-the-path-model.html"><a href="building-the-path-model.html#path-diagram-of-our-model-with-tested-indicators"><i class="fa fa-check"></i><b>4.1.1</b> Path diagram of our model with tested indicators</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-managment-transformation.html"><a href="data-managment-transformation.html"><i class="fa fa-check"></i><b>4.2</b> Data managment / transformation</a></li>
<li class="chapter" data-level="4.3" data-path="reporting-initial-results-and-evaluating-the-quality-of-reflective-measurement-models.html"><a href="reporting-initial-results-and-evaluating-the-quality-of-reflective-measurement-models.html"><i class="fa fa-check"></i><b>4.3</b> Reporting initial results and evaluating the quality of reflective measurement models</a></li>
<li class="chapter" data-level="4.4" data-path="bootstrapping-for-significance.html"><a href="bootstrapping-for-significance.html"><i class="fa fa-check"></i><b>4.4</b> Bootstrapping for significance</a></li>
<li class="chapter" data-level="4.5" data-path="reporting-results-of-bootstrapped-pls.html"><a href="reporting-results-of-bootstrapped-pls.html"><i class="fa fa-check"></i><b>4.5</b> Reporting results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="testing-iterations-of-the-pls-sem-fef-model.html"><a href="testing-iterations-of-the-pls-sem-fef-model.html"><i class="fa fa-check"></i><b>5</b> Testing iterations of the PLS-SEM FEF model</a>
<ul>
<li class="chapter" data-level="5.1" data-path="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html"><i class="fa fa-check"></i><b>5.1</b> MODEL 1: Flow stage classifier as a latent variable. Total protein-like component <br></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#results-of-bootstrapped-pls"><i class="fa fa-check"></i><b>5.1.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="model-2-include-a-flow-stage-classifier-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><a href="model-2-include-a-flow-stage-classifier-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><i class="fa fa-check"></i><b>5.2</b> MODEL 2: include a flow stage classifier as a latent variable where response is protein-like fraction of DOM.</a></li>
<li class="chapter" data-level="5.3" data-path="model-3-remove-flow-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><a href="model-3-remove-flow-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><i class="fa fa-check"></i><b>5.3</b> MODEL 3: Remove flow as a latent variable where response is protein-like fraction of DOM.</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="model-3-remove-flow-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><a href="model-3-remove-flow-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html#results-of-bootstrapped-pls-1"><i class="fa fa-check"></i><b>5.3.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="model-4-remove-hydrology-altogether-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><a href="model-4-remove-hydrology-altogether-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><i class="fa fa-check"></i><b>5.4</b> MODEL 4: Remove hydrology altogether as a latent variable where response is protein-like fraction of DOM.</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="model-4-remove-hydrology-altogether-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html"><a href="model-4-remove-hydrology-altogether-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html#results-of-bootstrapped-pls-2"><i class="fa fa-check"></i><b>5.4.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="model-5-change-landcover-types-to-harvest-regeneration-from-beetlekill.html"><a href="model-5-change-landcover-types-to-harvest-regeneration-from-beetlekill.html"><i class="fa fa-check"></i><b>5.5</b> MODEL 5: Change landcover types to harvest regeneration from beetlekill</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="model-5-change-landcover-types-to-harvest-regeneration-from-beetlekill.html"><a href="model-5-change-landcover-types-to-harvest-regeneration-from-beetlekill.html#results-of-bootstrapped-pls-3"><i class="fa fa-check"></i><b>5.5.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="model-6-add-back-hydrology-as-a-latent-variable-landcover-regenerating-forest.html"><a href="model-6-add-back-hydrology-as-a-latent-variable-landcover-regenerating-forest.html"><i class="fa fa-check"></i><b>5.6</b> MODEL 6: Add back hydrology as a latent variable, landcover = regenerating forest</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="model-6-add-back-hydrology-as-a-latent-variable-landcover-regenerating-forest.html"><a href="model-6-add-back-hydrology-as-a-latent-variable-landcover-regenerating-forest.html#results-of-bootstrapped-pls-4"><i class="fa fa-check"></i><b>5.6.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="model-7-change-response-to-fraction-of-humic-dom.html"><a href="model-7-change-response-to-fraction-of-humic-dom.html"><i class="fa fa-check"></i><b>5.7</b> MODEL 7: Change response to fraction of humic DOM</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="model-7-change-response-to-fraction-of-humic-dom.html"><a href="model-7-change-response-to-fraction-of-humic-dom.html#results-of-bootstrapped-pls-5"><i class="fa fa-check"></i><b>5.7.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="model-8-change-response-to-fraction-of-humic-dom-with-beetlekill.html"><a href="model-8-change-response-to-fraction-of-humic-dom-with-beetlekill.html"><i class="fa fa-check"></i><b>5.8</b> MODEL 8: Change response to fraction of humic DOM with Beetlekill %</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="model-8-change-response-to-fraction-of-humic-dom-with-beetlekill.html"><a href="model-8-change-response-to-fraction-of-humic-dom-with-beetlekill.html#results-of-bootstrapped-pls-6"><i class="fa fa-check"></i><b>5.8.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="model-9-tundra-influence-on-change-to-fraction-of-humic-dom.html"><a href="model-9-tundra-influence-on-change-to-fraction-of-humic-dom.html"><i class="fa fa-check"></i><b>5.9</b> MODEL 9: Tundra influence on change to fraction of humic DOM</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="model-9-tundra-influence-on-change-to-fraction-of-humic-dom.html"><a href="model-9-tundra-influence-on-change-to-fraction-of-humic-dom.html#results-of-bootstrapped-pls-7"><i class="fa fa-check"></i><b>5.9.1</b> Results of bootstrapped PLS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="grouping-response-variables.html"><a href="grouping-response-variables.html"><i class="fa fa-check"></i><b>6</b> Grouping response variables</a></li>
<li class="chapter" data-level="7" data-path="reporting-initial-results-and-evaluating-the-quality-of-our-favorite-model.html"><a href="reporting-initial-results-and-evaluating-the-quality-of-our-favorite-model.html"><i class="fa fa-check"></i><b>7</b> Reporting initial results and evaluating the quality of our favorite model</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PLS-SEM FEF model exploration and iterations</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> MODEL 1: Flow stage classifier as a latent variable. Total protein-like component <br><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To include classifications in a PLS model, we generate a column in the dataset for each classificaiton, and a binomial indicators in each row. For example, of the stream stage at the time of sampling is just after peak flow, that sample will have a â€˜1â€™ in the upper descending limb column, and a â€˜0â€™ in all others. Potential classifications are â€˜rising limbâ€™, â€˜upper descending limbâ€™, â€˜lower descending limbâ€™ and baseflow. In the path model, lower_decreasing = stage_1, upper_decreasing = stage_2, increasing = stage_3. These classifications were developed by finding the date of peak flow for the respective year and stream, and the dates for the end and beginning of baseflow for each calendar year. Then the â€˜midwayâ€™ point between peakflow and the first date of baseflow delineates upper and lower descending limbs. (find the name of this script, pretty sure its an .ipynb)
Build the outer model or â€˜constructsâ€™ or latent variables</p>
<p>Our indicators for each latent variable are as follows:<br>
<strong>Topo:</strong> <br>
â€“mean distance that allochthonous water has to travel to the stream channel<br>
â€“mean aspect in radians<br>
â€“mean subcatchment TWI <br>
<strong>Landcover:</strong> <br>
â€“ % of subcatchment pixels with &gt;50% beetlekill<br>
â€“ mean NDVI<br>
<strong>Hydro:</strong><br>
â€“log discharge/m2<br>
<strong>DOM:</strong> <br>
â€“ sample fluorescence of protein-like component</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb34-1" tabindex="-1"></a>simple_FEF_mm <span class="ot">&lt;-</span> <span class="fu">constructs</span>(</span>
<span id="cb34-2"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb34-2" tabindex="-1"></a>  <span class="fu">composite</span>(<span class="st">&quot;TOPO&quot;</span>, <span class="fu">multi_items</span>(<span class="st">&quot;topo_&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)),</span>
<span id="cb34-3"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb34-3" tabindex="-1"></a>  <span class="fu">composite</span>(<span class="st">&quot;HYDRO&quot;</span>, <span class="fu">single_item</span>(<span class="st">&quot;hydro_1&quot;</span>)),</span>
<span id="cb34-4"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb34-4" tabindex="-1"></a>  <span class="fu">composite</span>(<span class="st">&quot;LANDCOVER&quot;</span>, <span class="fu">multi_items</span>(<span class="st">&quot;landcover_&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)),</span>
<span id="cb34-5"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb34-5" tabindex="-1"></a>  <span class="fu">composite</span>(<span class="st">&quot;DOM&quot;</span>, <span class="fu">single_item</span>(<span class="st">&#39;dom_1&#39;</span>)),</span>
<span id="cb34-6"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb34-6" tabindex="-1"></a>  <span class="fu">composite</span>(<span class="st">&quot;STAGE&quot;</span>, <span class="fu">multi_items</span>(<span class="st">&quot;stage_&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>))</span>
<span id="cb34-7"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb34-7" tabindex="-1"></a>)</span></code></pre></div>
<p>Now for the structural model:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-1" tabindex="-1"></a><span class="co"># Create structural model</span></span>
<span id="cb35-2"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-2" tabindex="-1"></a>simple_FEF_sm <span class="ot">&lt;-</span> <span class="fu">relationships</span>(</span>
<span id="cb35-3"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-3" tabindex="-1"></a><span class="fu">paths</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="st">&quot;TOPO&quot;</span>), <span class="at">to =</span> <span class="fu">c</span>(<span class="st">&quot;HYDRO&quot;</span>, <span class="st">&quot;LANDCOVER&quot;</span>, <span class="st">&quot;DOM&quot;</span>)),</span>
<span id="cb35-4"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-4" tabindex="-1"></a><span class="fu">paths</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="st">&quot;LANDCOVER&quot;</span>), <span class="at">to =</span> <span class="fu">c</span>(<span class="st">&quot;HYDRO&quot;</span>, <span class="st">&quot;DOM&quot;</span>)),</span>
<span id="cb35-5"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-5" tabindex="-1"></a><span class="fu">paths</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="st">&quot;HYDRO&quot;</span>), <span class="at">to =</span> <span class="fu">c</span>(<span class="st">&quot;DOM&quot;</span>)),</span>
<span id="cb35-6"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-6" tabindex="-1"></a><span class="fu">paths</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="st">&quot;STAGE&quot;</span>), <span class="at">to =</span> <span class="fu">c</span>(<span class="st">&quot;HYDRO&quot;</span>, <span class="st">&quot;DOM&quot;</span>))</span>
<span id="cb35-7"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-7" tabindex="-1"></a>)</span>
<span id="cb35-8"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-8" tabindex="-1"></a></span>
<span id="cb35-9"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb35-9" tabindex="-1"></a><span class="co"># Note that neither a dataset nor a measurement model is specified in the structural model stage, so we can reuse the structural model object simple_sm across different datasets and measurement models.</span></span></code></pre></div>
<p>Model Estimation using the PLS-SEM algorithm. See demo for more info.</p>
<p>Output summary <br>
Recall that path coefficients indicate the relationship between the two latent variables and we generally want reliability indicators to be high. e.g., rhoC represents internal consistency reliability, which is the extent to which indicators measuring the same construct are associated with each other. values over 0.95 can indicate redundancy, but values over 0.7 are preferred.</p>
<pre><code>## Warning in summary.lm(independents_regr): essentially perfect fit: summary may be unreliable</code></pre>
<pre><code>## 
## Results from  package seminr (2.3.4)
## 
## Path Coefficients:
##            HYDRO LANDCOVER    DOM
## R^2        0.282     0.576  0.335
## AdjR^2     0.258     0.571  0.304
## TOPO       0.139     0.759  0.004
## LANDCOVER -0.559         . -0.142
## HYDRO          .         . -0.209
## STAGE      0.258         .  0.603
## 
## Reliability:
##             alpha  rhoC   AVE  rhoA
## TOPO        0.907 0.940 0.839 0.960
## LANDCOVER   0.865 0.936 0.880 0.875
## HYDRO       1.000 1.000 1.000 1.000
## STAGE     -21.902 0.067 0.315 0.353
## DOM         1.000 1.000 1.000 1.000
## 
## Alpha, rhoC, and rhoA should exceed 0.7 while AVE should exceed 0.5</code></pre>
<p>A plot of result reliability measures:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb38-1" tabindex="-1"></a><span class="fu">plot</span>(summary_simple_fef<span class="sc">$</span>reliability)</span></code></pre></div>
<p><img src="PLS_rendered_book_files/figure-html/unnamed-chunk-146-1.png" width="672" /></p>
<div id="results-of-bootstrapped-pls" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Results of bootstrapped PLS<a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#results-of-bootstrapped-pls" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb39-1" tabindex="-1"></a><span class="co"># Extract the bootstrapped HTMT</span></span>
<span id="cb39-2"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb39-2" tabindex="-1"></a>sum_boot_fef <span class="ot">&lt;-</span> <span class="fu">summary</span>(boot_simple_fef, <span class="at">alpha=</span> <span class="fl">0.10</span>)</span>
<span id="cb39-3"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb39-3" tabindex="-1"></a></span>
<span id="cb39-4"><a href="model-1-flow-stage-classifier-as-a-latent-variable.-total-protein-like-component.html#cb39-4" tabindex="-1"></a>sum_boot_fef<span class="sc">$</span>bootstrapped_HTMT</span></code></pre></div>
<pre><code>##                      Original Est. Bootstrap Mean Bootstrap SD T Stat. 5% CI 95% CI
## TOPO  -&gt;  LANDCOVER          0.817          0.818        0.048  16.893 0.730  0.889
## TOPO  -&gt;  HYDRO              0.265          0.269        0.081   3.279 0.135  0.394
## TOPO  -&gt;  STAGE              0.138          0.210        0.071   1.931 0.103  0.330
## TOPO  -&gt;  DOM                0.053          0.096        0.055   0.977 0.027  0.195
## LANDCOVER  -&gt;  HYDRO         0.493          0.492        0.140   3.516 0.255  0.704
## LANDCOVER  -&gt;  STAGE         0.141          0.215        0.078   1.818 0.099  0.352
## LANDCOVER  -&gt;  DOM           0.048          0.078        0.050   0.975 0.020  0.173
## HYDRO  -&gt;  STAGE             0.272          0.310        0.089   3.048 0.167  0.453
## HYDRO  -&gt;  DOM               0.013          0.045        0.036   0.372 0.004  0.111
## STAGE  -&gt;  DOM               0.473          0.487        0.079   6.009 0.347  0.611</code></pre>
<p>This gives us the confidence intervals of the HTMT ratio.</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-5a04c6e870e809c68648" style="width:768px;height:384px;"></div>
<script type="application/json" data-for="htmlwidget-5a04c6e870e809c68648">{"x":{"diagram":"digraph G {\n\n// ----------------------\n// General graph settings\n// ----------------------\ngraph [\ncharset = \"UTF-8\",\nlayout = dot,\nlabel = \"Bootstrapped Model\",\nfontsize = 24,\nfontcolor = black,\nfontname = helvetica,\nrankdir = LR,\nlabelloc = t,\nsplines = TRUE\nbgcolor = transparent\n]\n\n// --------------------\n// The structural model\n// --------------------\nsubgraph sm {\nrankdir = LR;\nnode [\nshape = ellipse,\ncolor = black,\nfillcolor = white,\nstyle = filled,\nfontsize = 12,\nfontcolor = black,\nheight = 0.919303385416667,\nwidth = 0.918636067708333,\nfontname = helvetica,\nfixedsize = true\n]\n\"TOPO\" [label=<<B>TOPO <\/B>>, shape = hexagon]\n\"LANDCOVER\" [label=<<B>LANDCOVER <\/B><BR /><FONT POINT-SIZE=\"10\">rÂ² = 0.576<\/FONT>>, shape = hexagon]\n\"HYDRO\" [label=<<B>HYDRO <\/B><BR /><FONT POINT-SIZE=\"10\">rÂ² = 0.282<\/FONT>>, shape = hexagon]\n\"STAGE\" [label=<<B>STAGE <\/B>>, shape = hexagon]\n\"DOM\" [label=<<B>DOM <\/B><BR /><FONT POINT-SIZE=\"10\">rÂ² = 0.335<\/FONT>>, shape = hexagon]\nedge [\ncolor = black,\nfontsize = 9,\nfontcolor = black,\nfontname = helvetica,\ndir = both,\narrowhead = normal,\narrowtail = none\n]\n\"TOPO\" -> {\"HYDRO\"}[weight = 1, label = < ð›½ = 0.139<BR /><FONT POINT-SIZE=\"7\">95% CI [-0.113, 0.426]   <\/FONT> >, penwidth = 1.195, style = solid, color = black]\n\"TOPO\" -> {\"LANDCOVER\"}[weight = 1, label = < ð›½ = 0.759***<BR /><FONT POINT-SIZE=\"7\">95% CI [0.676, 0.824]   <\/FONT> >, penwidth = 4.295, style = solid, color = black]\n\"TOPO\" -> {\"DOM\"}[weight = 1, label = < ð›½ = 0.004<BR /><FONT POINT-SIZE=\"7\">95% CI [-0.211, 0.309]   <\/FONT> >, penwidth = 0.52, style = solid, color = black]\n\"LANDCOVER\" -> {\"HYDRO\"}[weight = 1, label = < ð›½ = -0.559**<BR /><FONT POINT-SIZE=\"7\">95% CI [-0.953, -0.137]   <\/FONT> >, penwidth = 3.295, style = dashed, color = black]\n\"LANDCOVER\" -> {\"DOM\"}[weight = 1, label = < ð›½ = -0.142<BR /><FONT POINT-SIZE=\"7\">95% CI [-0.431, 0.034]   <\/FONT> >, penwidth = 1.21, style = dashed, color = black]\n\"HYDRO\" -> {\"DOM\"}[weight = 1, label = < ð›½ = -0.209*<BR /><FONT POINT-SIZE=\"7\">95% CI [-0.401, -0.045]   <\/FONT> >, penwidth = 1.545, style = dashed, color = black]\n\"STAGE\" -> {\"HYDRO\"}[weight = 1, label = < ð›½ = 0.258*<BR /><FONT POINT-SIZE=\"7\">95% CI [0.042, 0.474]   <\/FONT> >, penwidth = 1.79, style = solid, color = black]\n\"STAGE\" -> {\"DOM\"}[weight = 1, label = < ð›½ = 0.603***<BR /><FONT POINT-SIZE=\"7\">95% CI [0.39, 0.814]   <\/FONT> >, penwidth = 3.515, style = solid, color = black]\n}\n// ---------------------\n// The measurement model\n// ---------------------\n\nsubgraph construct_1 {\nnode [\nshape = box,\ncolor = dimgrey,\nfillcolor = white,\nstyle = filled,\nfontsize = 8,\nfontcolor = black,\nheight = 0.109651692708333,\nwidth = 0.454020182291667,\nfontname = helvetica,\nfixedsize = true\n]\n\"topo_1\" [label = \"topo_1\", shape = box]\n\"topo_2\" [label = \"topo_2\", shape = box]\n\"topo_3\" [label = \"topo_3\", shape = box]\nedge [\ncolor = dimgrey,\nfontsize = 7,\nfontcolor = black,\nfontname = helvetica,\nminlen = 1,\ndir = both\narrowhead = none\narrowtail = normal\n]\n\"topo_1\" -> {\"TOPO\"}[weight = 1000, label = < ðœ† = 0.893*** >, penwidth = 3.179, style = solid, color = dimgrey]\n\"topo_2\" -> {\"TOPO\"}[weight = 1000, label = < ðœ† = 0.951*** >, penwidth = 3.353, style = solid, color = dimgrey]\n\"topo_3\" -> {\"TOPO\"}[weight = 1000, label = < ðœ† = 0.903*** >, penwidth = 3.209, style = solid, color = dimgrey]\n\n}\nsubgraph construct_2 {\nnode [\nshape = box,\ncolor = dimgrey,\nfillcolor = white,\nstyle = filled,\nfontsize = 8,\nfontcolor = black,\nheight = 0.109651692708333,\nwidth = 0.454020182291667,\nfontname = helvetica,\nfixedsize = true\n]\n\"landcover_1\" [label = \"landcover_1\", shape = box]\n\"landcover_2\" [label = \"landcover_2\", shape = box]\nedge [\ncolor = dimgrey,\nfontsize = 7,\nfontcolor = black,\nfontname = helvetica,\nminlen = 1,\ndir = both\narrowhead = none\narrowtail = normal\n]\n\"landcover_1\" -> {\"LANDCOVER\"}[weight = 1000, label = < ðœ† = 0.947*** >, penwidth = 3.341, style = solid, color = dimgrey]\n\"landcover_2\" -> {\"LANDCOVER\"}[weight = 1000, label = < ðœ† = 0.93*** >, penwidth = 3.29, style = solid, color = dimgrey]\n\n}\nsubgraph construct_3 {\nnode [\nshape = box,\ncolor = dimgrey,\nfillcolor = white,\nstyle = filled,\nfontsize = 8,\nfontcolor = black,\nheight = 0.109651692708333,\nwidth = 0.454020182291667,\nfontname = helvetica,\nfixedsize = true\n]\n\"hydro_1\" [label = \"hydro_1\", shape = box]\nedge [\ncolor = dimgrey,\nfontsize = 7,\nfontcolor = black,\nfontname = helvetica,\nminlen = 1,\ndir = both\narrowhead = none\narrowtail = normal\n]\n\"hydro_1\" -> {\"HYDRO\"}[weight = 1000, label = < ðœ† = 1 >, penwidth = 3.5, style = solid, color = dimgrey]\n\n}\nsubgraph construct_4 {\nnode [\nshape = box,\ncolor = dimgrey,\nfillcolor = white,\nstyle = filled,\nfontsize = 8,\nfontcolor = black,\nheight = 0.109651692708333,\nwidth = 0.454020182291667,\nfontname = helvetica,\nfixedsize = true\n]\n\"stage_1\" [label = \"stage_1\", shape = box]\n\"stage_2\" [label = \"stage_2\", shape = box]\n\"stage_3\" [label = \"stage_3\", shape = box]\n\"stage_4\" [label = \"stage_4\", shape = box]\nedge [\ncolor = dimgrey,\nfontsize = 7,\nfontcolor = black,\nfontname = helvetica,\nminlen = 1,\ndir = both\narrowhead = none\narrowtail = normal\n]\n\"stage_1\" -> {\"STAGE\"}[weight = 1000, label = < ðœ† = -0.662*** >, penwidth = 2.486, style = dashed, color = dimgrey]\n\"stage_2\" -> {\"STAGE\"}[weight = 1000, label = < ðœ† = -0.115 >, penwidth = 0.845, style = dashed, color = dimgrey]\n\"stage_3\" -> {\"STAGE\"}[weight = 1000, label = < ðœ† = 0.429* >, penwidth = 1.787, style = solid, color = dimgrey]\n\"stage_4\" -> {\"STAGE\"}[weight = 1000, label = < ðœ† = 0.791*** >, penwidth = 2.873, style = solid, color = dimgrey]\n\n}\nsubgraph construct_5 {\nnode [\nshape = box,\ncolor = dimgrey,\nfillcolor = white,\nstyle = filled,\nfontsize = 8,\nfontcolor = black,\nheight = 0.109651692708333,\nwidth = 0.454020182291667,\nfontname = helvetica,\nfixedsize = true\n]\n\"dom_1\" [label = \"dom_1\", shape = box]\nedge [\ncolor = dimgrey,\nfontsize = 7,\nfontcolor = black,\nfontname = helvetica,\nminlen = 1,\ndir = both\narrowhead = normal\narrowtail = none\n]\n\"DOM\" -> {\"dom_1\"}[weight = 1000, label = < ðœ† = 1 >, penwidth = 3.5, style = solid, color = dimgrey]\n\n}\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>Interpretation:
In this model, we are seeing <br>
-strong, significant relationships between topography and landcover, landcover and discharge (hydro), and flow stage (classified by hydrograph limb) and DOM, which is indicated by the total fluorescence of the protein-like component. <br>
- significant but weak relationships between flow stage and hydro, and hydro and DOM <br>
- weak and insignificant relationships between
topography and DOM, topography and hydrology, landcover and DOM. <br>
This makes sense. The response variable in this analysis is the total amount of the protein-like component in the sample. We expect this to be positively correlated with the DOM concentration, which typically follows trends similar to flow/runoff. <br></p>
<p>Letâ€™s see if this same model tells a different story if we instead look at the relative fraction of protein in the sample.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="testing-iterations-of-the-pls-sem-fef-model.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="model-2-include-a-flow-stage-classifier-as-a-latent-variable-where-response-is-protein-like-fraction-of-dom..html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"depth": 1
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
